<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Source Themes Academic 4.8.0"><meta name=author content="Jérémie Deray"><meta name=description content="The 5th of June 2020 marks the release of ROS 2 Foxy Fitzroy, a 3 years long-term support (LTS) release and the first ROS 2 distribution to target Ubuntu 20.04."><link rel=alternate hreflang=en-us href=https://artivis.github.io/post/2020/ros-foxy-install/><meta name=theme-color content="hsl(115, 82%, 48%)"><script src=/js/mathjax-config.js></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css crossorigin=anonymous title=hl-light disabled><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css integrity="sha256-SHMGCYmST46SoyGgo4YR/9AlK1vf3ff84Aq9yK4hdqM=" crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin=anonymous async></script><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js integrity crossorigin=anonymous async></script><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap"><link rel=stylesheet href=/css/academic.css><script async src="https://www.googletagmanager.com/gtag/js?id=UA-169921319-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
function trackOutboundLink(url,target){gtag('event','click',{'event_category':'outbound','event_label':url,'transport_type':'beacon','event_callback':function(){if(target!=='_blank'){document.location=url;}}});console.debug("Outbound link clicked: "+url);}
function onClickCallback(event){if((event.target.tagName!=='A')||(event.target.host===window.location.host)){return;}
trackOutboundLink(event.target,event.target.getAttribute('target'));}
gtag('js',new Date());gtag('config','UA-169921319-1',{'anonymize_ip':true});document.addEventListener('click',onClickCallback,false);</script><link rel=manifest href=/index.webmanifest><link rel=icon type=image/png href=/images/icon_hud2d1771ce140e1d1fd4d0e59d51cebc4_11712_32x32_fill_lanczos_center_2.png><link rel=apple-touch-icon type=image/png href=/images/icon_hud2d1771ce140e1d1fd4d0e59d51cebc4_11712_192x192_fill_lanczos_center_2.png><link rel=canonical href=https://artivis.github.io/post/2020/ros-foxy-install/><meta property="twitter:card" content="summary"><meta property="og:site_name" content="Home to artivis"><meta property="og:url" content="https://artivis.github.io/post/2020/ros-foxy-install/"><meta property="og:title" content="Get started with ROS 2 Foxy today with LXD | Home to artivis"><meta property="og:description" content="The 5th of June 2020 marks the release of ROS 2 Foxy Fitzroy, a 3 years long-term support (LTS) release and the first ROS 2 distribution to target Ubuntu 20.04."><meta property="og:image" content="https://artivis.github.io/images/icon_hud2d1771ce140e1d1fd4d0e59d51cebc4_11712_512x512_fill_lanczos_center_2.png"><meta property="twitter:image" content="https://artivis.github.io/images/icon_hud2d1771ce140e1d1fd4d0e59d51cebc4_11712_512x512_fill_lanczos_center_2.png"><meta property="og:locale" content="en-us"><meta property="article:published_time" content="2020-06-06T00:00:00+00:00"><meta property="article:modified_time" content="2020-06-08T12:10:33-04:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://artivis.github.io/post/2020/ros-foxy-install/"},"headline":"Get started with ROS 2 Foxy today with LXD","datePublished":"2020-06-06T00:00:00Z","dateModified":"2020-06-08T12:10:33-04:00","author":{"@type":"Person","name":"Jérémie Deray"},"publisher":{"@type":"Organization","name":"Home to artivis","logo":{"@type":"ImageObject","url":"https://artivis.github.io/images/icon_hud2d1771ce140e1d1fd4d0e59d51cebc4_11712_192x192_fill_lanczos_center_2.png"}},"description":"The 5th of June 2020 marks the release of ROS 2 Foxy Fitzroy, a 3 years long-term support (LTS) release and the first ROS 2 distribution to target Ubuntu 20.04."}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.1/cookieconsent.min.js integrity="sha256-5VhCqFam2Cn+yjw61zbBNrbHVJ6SRydPeKopYlngbiQ=" crossorigin=anonymous></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.1/cookieconsent.min.css integrity="sha256-zQ0LblD/Af8vOppw18+2anxsuaz3pWYyVWi+bTvTH8Q=" crossorigin=anonymous><script>window.addEventListener("load",function(){window.cookieconsent.initialise({"palette":{"popup":{"background":"hsl(115, 82%, 48%)","text":"#292a2d"},"button":{"background":"#292a2d","text":"hsl(115, 82%, 48%)"}},"theme":"classic","content":{"message":"This website uses cookies to ensure you get the best experience on our website.","dismiss":"Got it!","link":"Learn more","href":"https://www.cookiesandyou.com"}})});</script><title>Get started with ROS 2 Foxy today with LXD | Home to artivis</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=dark><aside class=search-results id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=#><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/><a href=https://artivis.github.io/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>$ cd /home/</span>
<span class=logo__cursor style=background-color:#27df16;animation-duration:2s></span></div></a></a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Home to artivis</a></div><div class="navbar-collapse main-menu-item collapse justify-content-end" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class="nav-link active" href=/post><span>Posts</span></a></li><li class=nav-item><a class=nav-link href=/project><span>Projects</span></a></li><li class=nav-item><a class=nav-link href=/publication><span>Publications</span></a></li><li class=nav-item><a class=nav-link href=/about><span>About</span></a></li><li class=nav-item><a class=nav-link href=/contact><span>Contact</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item>|</li><li class=nav-item><a class="nav-link js-search" href=#><i class="fas fa-search" aria-hidden=true></i></a></li></ul></div></nav><article class=article><div class="article-container pt-3"><h1>Get started with ROS 2 Foxy today with LXD</h1><p class=page-subtitle>Why wait?</p><div class=article-metadata><span class=article-date>Last updated on
Jun 8, 2020</span>
<span class=middot-divider></span><span class=article-reading-time>4 min read</span></div></div><div class=article-container><div class=article-style><p>The 5th of June 2020 marks the release of ROS 2 Foxy Fitzroy,
a 3 years long-term support (LTS) release and
the first ROS 2 distribution to target
<a href=https://ubuntu.com/blog/ubuntu-20-04-lts-arrives target=_blank rel=noopener>Ubuntu 20.04</a>.</p><p>As summarized in the
<a href=https://discourse.ros.org/t/ros-foxy-fitzroy-released/14495 target=_blank rel=noopener>ROS Discourse</a> post,
Foxy comes loaded with performance improvements, new features,
and maybe most importantly, with
<a href=https://index.ros.org/doc/ros2/Tutorials/ target=_blank rel=noopener>tutorials</a>!
Get a full tour of the novelties by heading down to the
<a href=https://index.ros.org/doc/ros2/Releases/Release-Foxy-Fitzroy/ target=_blank rel=noopener>Foxy release page</a>.</p><p>Now, you may be very excited about ROS 2 Foxy but you,
just as I, haven&rsquo;t moved to Ubuntu 20.04 just yet.
But that will not stop us from getting our hands on
all the goodies this new release offers.</p><p>Indeed, in this post we will see how to install ROS 2 Foxy Fitzroy
in a
<a href=https://linuxcontainers.org/lxd/introduction/ target=_blank rel=noopener>LXD</a> container so that we can develop against the latest ROS 2
release without the need to upgrade our computer just yet.</p><p>Hereafter we will assume that your are familiar with the command terminal
and that LXD is already installed on your machine.
If you are new to LXD or looking to improve your ROS development with it,
have a look to this post
<a href=/post/2020/lxc>&lsquo;ROS Noetic development workflow in LXC&rsquo;</a>.</p><p>Alright let us get started.</p><hr><h1 id=content>Content</h1><ul><li><a href=#spawning-an-ubuntu-2004-lxd-container>Spawning an Ubuntu 20.04 LXD container</a></li><li><a href=#installing-ros-2-foxy-fitzroy>Installing ROS 2 Foxy Fitzroy</a></li><li><a href=#quick-test>Quick test</a></li></ul><hr><h1 id=spawning-an-ubuntu-2004-lxd-container>Spawning an Ubuntu 20.04 LXD container</h1><p>So the first thing we have to do is to create a LXD container based on an
Ubuntu 20.04 image. To do so we issue the following command,</p><pre><code class=language-bash>lxc launch ubuntu:20.04 ros2-foxy
</code></pre><p>It creates and starts a container named &lsquo;ros2-foxy&rsquo; based on an
Ubuntu 20.04 image. So far so good.</p><p>Now to start a shell in our fresh container we will type,</p><pre><code class=language-bash>lxc exec ros-foxy -- sudo --login --user ubuntu
</code></pre><p>We are now inside our container, logged as the non-root user &lsquo;ubuntu&rsquo;.
Note that if the last command looks a bit unfriendly to you,
you can make it a &lsquo;lxc&rsquo; alias
(learn more about it in the
<a href=/post/2020/lxc#lxc-aliases-to-the-rescue>aforementioned LXD post</a>).</p><p>Now that our container is up and running, we shall install Foxy.</p><h1 id=installing-ros-2-foxy-fitzroy>Installing ROS 2 Foxy Fitzroy</h1><p>Inside our container, we will first add the ROS packages
repository to our sources. Starting with the key,</p><pre><code class=language-bash>$ sudo apt-key adv --fetch-keys https://raw.githubusercontent.com/ros/rosdistro/master/ros.asc
</code></pre><p>then the repository,</p><pre><code class=language-bash>$ sudo apt-add-repository http://packages.ros.org/ros2/ubuntu
</code></pre><p>In case of trouble, you can also refer to the
<a href=https://index.ros.org/doc/ros2/Installation/Foxy/ target=_blank rel=noopener>official installation guide</a>.</p><p>We are all set to install Foxy!</p><p>For the installation, we can choose either of two options;
we can choose to install only the base components,
e.g. the communication libraries, message packages, command line tools, etc&mldr;</p><pre><code class=language-bash>$ sudo apt install ros-foxy-ros-base
</code></pre><p>or we can install the base + RViz, demos and tutorials,</p><pre><code class=language-bash>$ sudo apt install ros-foxy-desktop
</code></pre><p>You can pick any depending on your needs.
If you are not sure which to pick,
I would recommend you install the desktop version
in order to have all the tools you may need already installed.
However, note that if you intend to use some graphical applications
in your container, you have to take an extra step and set up some parameters
for your container.
All of this is detailed in the
<a href=/post/2020/lxc#using-graphical-applications>aforementioned LXD post</a>.</p><p>Since the container was created especially for Foxy,
we will automatically source it in our &lsquo;.bashrc&rsquo;,</p><pre><code class=language-bash>$ echo &quot;source /opt/ros/foxy/setup.bash&quot; &gt;&gt; ~/.bashrc
</code></pre><p>Every times we will log into our container,
ROS 2 Foxy will be sourced and we will be ready to develop!</p><p>At last, we can install the Python package &lsquo;argcomplete&rsquo; to enable
autocompletion for the ROS 2 command line tools.
This is totally optional, but also totally recommended:</p><pre><code class=language-bash>sudo apt install python3-argcomplete
</code></pre><p>With Foxy installed, all there is left to do is to take it for a spin.</p><h1 id=quick-test>Quick test</h1><p>We will try the simple talker-listener demo,
mixing cpp and Python to make sure that
the installation went fine and that we can start developing right away.
Note that if you installed the &lsquo;base&rsquo; version in the previous section,
you will need to install the following packages,</p><pre><code class=language-bash>sudo apt install ros-foxy-demo-nodes-cpp ros-foxy-demo-nodes-py
</code></pre><p>For the test, let us start fresh and close our current shell.
We will then open 2 new ones, one for the publisher and one for the subscriber.</p><p>To start the publisher in the first shell enter,</p><pre><code class=language-bash>$ ros2 run demo_nodes_cpp talker
[INFO] [1591461939.792327469] [talker]: Publishing: 'Hello World: 1'
[INFO] [1591461940.792228229] [talker]: Publishing: 'Hello World: 2'
[INFO] [1591461941.792184798] [talker]: Publishing: 'Hello World: 3'
...
</code></pre><p>and we can see that it starts publishing messages right away.</p><p>To start the listener in the second shell enter,</p><pre><code class=language-bash>$ ros2 run demo_nodes_py listener
[INFO] [1591461964.793113956] [listener]: I heard: [Hello World: 5]
[INFO] [1591461965.792782570] [listener]: I heard: [Hello World: 6]
[INFO] [1591461966.792823099] [listener]: I heard: [Hello World: 7]
...
</code></pre><p>and we can see that it receives messages right away as well.</p><p>We are all set!</p></div><div class=article-tags><a class="badge badge-light" href=/tag/foxy/>Foxy</a>
<a class="badge badge-light" href=/tag/lxc/>LXC</a>
<a class="badge badge-light" href=/tag/lxd/>LXD</a>
<a class="badge badge-light" href=/tag/ros-2/>ROS 2</a>
<a class="badge badge-light" href=/tag/tutorial/>tutorial</a></div><div class=share-box aria-hidden=true><ul class=share><li><a href="https://twitter.com/intent/tweet?url=https://artivis.github.io/post/2020/ros-foxy-install/&text=Get%20started%20with%20ROS%202%20Foxy%20today%20with%20LXD" target=_blank rel=noopener class=share-btn-twitter><i class="fab fa-twitter"></i></a></li><li><a href="https://www.facebook.com/sharer.php?u=https://artivis.github.io/post/2020/ros-foxy-install/&t=Get%20started%20with%20ROS%202%20Foxy%20today%20with%20LXD" target=_blank rel=noopener class=share-btn-facebook><i class="fab fa-facebook"></i></a></li><li><a href="mailto:?subject=Get%20started%20with%20ROS%202%20Foxy%20today%20with%20LXD&body=https://artivis.github.io/post/2020/ros-foxy-install/" target=_blank rel=noopener class=share-btn-email><i class="fas fa-envelope"></i></a></li><li><a href="https://www.linkedin.com/shareArticle?url=https://artivis.github.io/post/2020/ros-foxy-install/&title=Get%20started%20with%20ROS%202%20Foxy%20today%20with%20LXD" target=_blank rel=noopener class=share-btn-linkedin><i class="fab fa-linkedin-in"></i></a></li><li><a href="https://web.whatsapp.com/send?text=Get%20started%20with%20ROS%202%20Foxy%20today%20with%20LXD%20https://artivis.github.io/post/2020/ros-foxy-install/" target=_blank rel=noopener class=share-btn-whatsapp><i class="fab fa-whatsapp"></i></a></li><li><a href="https://service.weibo.com/share/share.php?url=https://artivis.github.io/post/2020/ros-foxy-install/&title=Get%20started%20with%20ROS%202%20Foxy%20today%20with%20LXD" target=_blank rel=noopener class=share-btn-weibo><i class="fab fa-weibo"></i></a></li></ul></div><div class="article-widget content-widget-hr"><h3>Related</h3><ul><li><a href=/post/2020/dotfiles/>Managing dotfiles</a></li><li><a href=/post/2020/lxc/>ROS Noetic development workflow in LXC</a></li><li><a href=/post/2020/my-website/>My website</a></li><li><a href=/post/2020/pi-zero/>SSH the Raspberry Pi Zero over USB</a></li></ul></div></div></article><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.8/mermaid.min.js integrity="sha256-lyWCDMnMeZiXRi7Zl54sZGKYmgQs4izcT7+tKc+KUBk=" crossorigin=anonymous title=mermaid></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/r.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.js integrity="sha256-EErZamuLefUnbMBQbsEqu1USa+btR2oIlCpBJbyD4/g=" crossorigin=anonymous></script><script>const code_highlighting=true;</script><script>const isSiteThemeDark=true;</script><script>const search_config={"indexURI":"/index.json","minLength":1,"threshold":0.3};const i18n={"no_results":"No results found","placeholder":"Search...","results":"results found"};const content_type={'post':"Posts",'project':"Projects",'publication':"Publications",'talk':"Talks"};</script><script id=search-hit-fuse-template type=text/x-template>
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script><script src=https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin=anonymous></script><script src=/js/academic.min.37431be2d92d7fb0160054761ab79602.js></script><div class=container><footer class=site-footer><p class=powered-by>Jérémie Deray © 2020
<span class=float-right aria-hidden=true><a href=# class=back-to-top><span class=button_icon><i class="fas fa-chevron-up fa-2x"></i></span></a></span></p></footer></div><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code class="tex hljs"></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i>Copy</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i>Download</a><div id=modal-error></div></div></div></div></div></body></html>